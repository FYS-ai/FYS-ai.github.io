{"version":3,"sources":["webpack:///./src/views/myMassege/MyMassege.vue?03b4","webpack:///src/views/myMassege/MyMassege.vue","webpack:///./src/views/myMassege/MyMassege.vue?1583","webpack:///./src/views/myMassege/MyMassege.vue","webpack:///./src/assets/img/pointOut/mytp.png","webpack:///./src/views/myMassege/MyMassege.vue?8763"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$store","state","userList","user_photo","attrs","_v","_s","user_name","_l","useritem","userindex","key","Date","getTime","class","acindex","on","$event","listClick","uid","senditem","sendindex","sendacindex","sendClick","usertitle","sendusertitle","userId","senduserId","receiverListItem","receiverListIndex","receiverList","msgItem","msgIndex","time","photoredn","sendphotoredn","data","_e","showChatItem","showChatIndex","directives","name","rawName","value","expression","domProps","target","composing","msg","fasongCilcik","staticRenderFns","sessionList","messages","sender","id","computed","userChat","sendChatList","sendChat","showChat","recordChat","receiverChat","created","sockets","subscribe","console","log","rritemss","news","morenzhi","mounted","rrew","methods","e","i","g","p","component","module","exports"],"mappings":"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","file":"js/chunk-010b7eaa.decb8f62.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"sidebar\"},[_c('div',{staticClass:\"hhhss\"},[_c('div',{staticClass:\"myname\"},[(_vm.$store.state.userList.user_photo!='')?_c('img',{staticClass:\"myimg\",attrs:{\"src\":_vm.$store.state.userList.user_photo,\"alt\":\"\"}}):_c('img',{staticClass:\"myimg\",attrs:{\"src\":require(\"../../assets/img/pointOut/mytp.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"mymz\"},[_vm._v(_vm._s(_vm.$store.state.userList.user_name))])]),_c('div',{staticClass:\"m-list\"},[_vm._l((_vm.userList),function(useritem,userindex){return _c('div',{key:new Date().getTime()+userindex+new Date().getTime(),staticClass:\"youname\",class:_vm.acindex===userindex?'mylistactive':'',on:{\"click\":function($event){return _vm.listClick(userindex,useritem.user_name,useritem.uid,useritem.user_photo)}}},[_c('img',{staticClass:\"myimg\",attrs:{\"src\":useritem.user_photo,\"alt\":\"\"}}),_c('div',{staticClass:\"mymz\"},[_vm._v(_vm._s(useritem.user_name))])])}),_vm._l((_vm.sendChatList),function(senditem,sendindex){return _c('div',{key:new Date().getTime()+sendindex,staticClass:\"youname\",class:_vm.sendacindex===sendindex?'mylistactive':'',on:{\"click\":function($event){return _vm.sendClick(sendindex,senditem.user_name,senditem.uid,senditem.user_photo)}}},[_c('img',{staticClass:\"myimg\",attrs:{\"src\":senditem.user_photo,\"alt\":\"\"}}),_c('div',{staticClass:\"mymz\"},[_vm._v(_vm._s(senditem.user_name))])])})],2)]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"m-top\"},[_c('div',{staticClass:\"yonghum\"},[_vm._v(\" \"+_vm._s(_vm.usertitle||_vm.sendusertitle)+\" \")]),_c('div',{staticClass:\"yinc\",class:(_vm.userId||_vm.senduserId)!=''? 'showtexttarea':''},[_vm._l((_vm.receiverList),function(receiverListItem,receiverListIndex){return _c('div',{key:new Date().getTime()+receiverListIndex},[(_vm.receiverList[receiverListIndex].user_name==_vm.usertitle)?_c('div',_vm._l((receiverListItem.message),function(msgItem,msgIndex){return _c('div',{key:msgIndex+new Date().getTime()+new Date().getTime()+new Date().getTime()},[_c('div',{staticClass:\"chattime\"},[_vm._v(_vm._s(msgItem.time))]),_c('div',{staticClass:\"ltneirong\"},[_c('img',{staticClass:\"lttouxiang\",attrs:{\"src\":(_vm.photoredn||_vm.sendphotoredn),\"alt\":\"\"}}),_c('div',{staticClass:\"ltnrys\"},[_vm._v(_vm._s(msgItem.data))])])])}),0):_vm._e(),(_vm.receiverList[receiverListIndex].user_name==_vm.sendusertitle)?_c('div',_vm._l((receiverListItem.message),function(msgItem,msgIndex){return _c('div',{key:msgIndex+new Date().getTime()+new Date().getTime()+new Date().getTime()},[_c('div',{staticClass:\"chattime\"},[_vm._v(_vm._s(msgItem.time))]),_c('div',{staticClass:\"ltneirong\"},[_c('img',{staticClass:\"lttouxiang\",attrs:{\"src\":(_vm.photoredn||_vm.sendphotoredn),\"alt\":\"\"}}),_c('div',{staticClass:\"ltnrys\"},[_vm._v(_vm._s(msgItem.data))])])])}),0):_vm._e()])}),_vm._l((_vm.showChat),function(showChatItem,showChatIndex){return _c('div',{key:new Date().getTime()+new Date().getTime()+showChatIndex},_vm._l((showChatItem.messages),function(msgItem,msgIndex){return _c('div',{key:msgIndex+new Date().getTime()+new Date().getTime()},[(showChatItem.user_name==_vm.usertitle)?_c('div',[_c('div',{staticClass:\"chattime\"},[_vm._v(_vm._s(msgItem.time))]),_c('div',{staticClass:\"ltneirong rightys\"},[_c('div',{staticClass:\"ltnrys zjltjl\"},[_vm._v(_vm._s(msgItem.data))]),_c('img',{staticClass:\"lttouxiang\",attrs:{\"src\":_vm.$store.state.userList.user_photo,\"alt\":\"\"}})])]):_vm._e(),((showChatItem.user_name==_vm.sendusertitle))?_c('div',[_c('div',{staticClass:\"chattime\"},[_vm._v(_vm._s(msgItem.time))]),_c('div',{staticClass:\"ltneirong rightys\"},[_c('div',{staticClass:\"ltnrys zjltjl\"},[_vm._v(_vm._s(msgItem.data))]),_c('img',{staticClass:\"lttouxiang\",attrs:{\"src\":_vm.$store.state.userList.user_photo,\"alt\":\"\"}})])]):_vm._e()])}),0)})],2)]),_c('div',{staticClass:\"m-bto\",class:(_vm.userId||_vm.senduserId)!=''? 'showtexttarea':''},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],staticClass:\"shuru\",attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.msg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}}}),_c('div',{staticClass:\"fs\",class:_vm.msg!=''?'fsshow':'',on:{\"click\":_vm.fasongCilcik}},[_vm._v(\"发送\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"sidebar\">\r\n      <div class=\"hhhss\">\r\n        <!-- 头像用户名 -->\r\n        <div class=\"myname\">\r\n\r\n          <img class=\"myimg\" v-if=\"$store.state.userList.user_photo!=''\"\r\n           :src=\"$store.state.userList.user_photo\" alt=\"\" />\r\n          <img class=\"myimg\" v-else \r\n          src=\"../../assets/img/pointOut/mytp.png\" alt=\"\" />\r\n          <div class=\"mymz\">{{$store.state.userList.user_name}}</div>\r\n        </div>\r\n        <div class=\"m-list\">\r\n          <!-- <div v-if=\"userList.length>0\"> -->\r\n            <!-- 自己添加的用户 -->\r\n            <div class=\"youname\" v-for=\"(useritem,userindex) in userList\"\r\n            :key=\"new Date().getTime()+userindex+new Date().getTime()\" :class=\"acindex===userindex?'mylistactive':''\"\r\n            @click=\"listClick(userindex,useritem.user_name,useritem.uid,useritem.user_photo)\">\r\n              <!-- <div v-for=\"(childItem,childindex) in useritem\" :key=\"childindex\"> -->\r\n                <img\r\n                  class=\"myimg\"\r\n                  :src=\"useritem.user_photo\"\r\n                  alt=\"\"\r\n                />\r\n                <div class=\"mymz\">{{useritem.user_name}}</div>\r\n              <!-- </div> -->\r\n            </div>\r\n          <!-- </div> -->\r\n          <!-- <div v-else> -->\r\n            <!-- 别人发消息过来的用户 -->\r\n            <div class=\"youname\" v-for=\"(senditem,sendindex) in sendChatList\"\r\n            :key=\"new Date().getTime()+sendindex\" :class=\"sendacindex===sendindex?'mylistactive':''\"\r\n            @click=\"sendClick(sendindex,senditem.user_name,senditem.uid,senditem.user_photo)\">\r\n              <!-- <div v-for=\"(childItem,childindex) in useritem\" :key=\"childindex\"> -->\r\n                <img\r\n                  class=\"myimg\"\r\n                  :src=\"senditem.user_photo\"\r\n                  alt=\"\"\r\n                />\r\n                <div class=\"mymz\">{{senditem.user_name}}</div>\r\n              <!-- </div> -->\r\n            </div>\r\n          <!-- </div> -->\r\n\r\n          \r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"main\">\r\n        <div class=\"m-top\">\r\n          <!-- 用户名 -->\r\n          <div class=\"yonghum\">\r\n            {{usertitle||sendusertitle}}\r\n          </div>\r\n          <!-- 内容记录 -->\r\n          <div class=\"yinc\" :class=\"(userId||senduserId)!=''? 'showtexttarea':''\">\r\n            <!-- 别人的信息 -->\r\n            <div v-for=\"(receiverListItem,receiverListIndex) in receiverList\"\r\n            :key=\"new Date().getTime()+receiverListIndex\">\r\n              <div v-if=\"receiverList[receiverListIndex].user_name==usertitle\">   \r\n                <div v-for=\"(msgItem,msgIndex) in receiverListItem.message\"\r\n                :key=\"msgIndex+new Date().getTime()+new Date().getTime()+new Date().getTime()\">\r\n                  <!-- 时间 -->\r\n                  <div  class='chattime'>{{msgItem.time}}</div>\r\n                  <!-- 内容 -->\r\n                  <div class=\"ltneirong\">\r\n                    <!-- <img class=\"lttouxiang\" src=\"../../assets/img/pointOut/mytp.png\" alt=\"\"> -->\r\n                    <img class=\"lttouxiang\" :src=\"(photoredn||sendphotoredn)\" alt=\"\">\r\n\r\n                    <div class=\"ltnrys\">{{msgItem.data}}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div v-if=\"receiverList[receiverListIndex].user_name==sendusertitle\">   \r\n                <div v-for=\"(msgItem,msgIndex) in receiverListItem.message\"\r\n                :key=\"msgIndex+new Date().getTime()+new Date().getTime()+new Date().getTime()\">\r\n                  <!-- 时间 -->\r\n                  <div  class='chattime'>{{msgItem.time}}</div>\r\n                  <!-- 内容 -->\r\n                  <div class=\"ltneirong\">\r\n                    <!-- <img class=\"lttouxiang\" src=\"../../assets/img/pointOut/mytp.png\" alt=\"\"> -->\r\n                    <img class=\"lttouxiang\" :src=\"(photoredn||sendphotoredn)\" alt=\"\">\r\n\r\n                    <div class=\"ltnrys\">{{msgItem.data}}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- 自己的信息-->\r\n            <div  v-for=\"(showChatItem,showChatIndex) in showChat\"\r\n              :key=\"new Date().getTime()+new Date().getTime()+showChatIndex\">\r\n              <div v-for=\"(msgItem,msgIndex) in showChatItem.messages\"\r\n              :key=\"msgIndex+new Date().getTime()+new Date().getTime()\">\r\n                <div v-if=\"showChatItem.user_name==usertitle\">\r\n                  <!-- 时间 -->\r\n                  <div class='chattime'>{{msgItem.time}}</div>\r\n                  <!-- 内容 -->\r\n                  <div class=\"ltneirong rightys\">\r\n                    <div class=\"ltnrys zjltjl\">{{msgItem.data}}</div>\r\n                    <img class=\"lttouxiang\" :src=\"$store.state.userList.user_photo\" alt=\"\"> \r\n                  </div>\r\n                </div>\r\n                <div v-if=\"(showChatItem.user_name==sendusertitle)\">\r\n                  <!-- 时间 -->\r\n                  <div class='chattime'>{{msgItem.time}}</div>\r\n                  <!-- 内容 -->\r\n                  <div class=\"ltneirong rightys\">\r\n                    <div class=\"ltnrys zjltjl\">{{msgItem.data}}</div>\r\n                    <img class=\"lttouxiang\" :src=\"$store.state.userList.user_photo\" alt=\"\"> \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"m-bto\" :class=\"(userId||senduserId)!=''? 'showtexttarea':''\">\r\n          <textarea class=\"shuru\" type=\"text\" name=\"\" id=\"\" v-model=\"msg\">\r\n            \r\n          </textarea>\r\n          <div class=\"fs\" :class=\"msg!=''?'fsshow':''\" @click=\"fasongCilcik\">发送</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"mymassege\",\r\n  data() {\r\n    return {\r\n      acindex:\"\",\r\n      usertitle:'',\r\n      photoredn:'',\r\n      msg:\"\",//当前输入的聊天内容\r\n      userId:'',//当前聊天用户id\r\n      sendacindex:\"\",\r\n      sendusertitle:'',\r\n      sendphotoredn:'',\r\n      senduserId:'',\r\n      sessionList:{\r\n        messages:[{\r\n          data:'',\r\n          time:''\r\n        }],\r\n        sender:\"\",\r\n        id:''\r\n      },\r\n      \r\n    };\r\n  },\r\n  computed:{\r\n    //用户列表\r\n    userList(){\r\n      return this.$store.state.userChat\r\n    },\r\n    sendChatList(){\r\n      return this.$store.state.sendChat\r\n    },\r\n    //聊天记录列表\r\n    //显示自己发的信息\r\n    showChat(){\r\n      return this.$store.state.recordChat\r\n    },\r\n    // 显示别人发的信息\r\n    receiverList(){\r\n      return this.$store.state.receiverChat\r\n    }\r\n  },\r\n  created() {\r\n    this.sockets.subscribe(\"sendMsgOn\",data=>{\r\n      //如果不存在就添加到vuex中\r\n      console.log(\"data的值\",data)\r\n      // for(let i=0;i<data.length;i++)\r\n      // {\r\n      //   //this.sendChatList有值的情况\r\n        if(this.sendChatList.length>0)\r\n        {\r\n          //比较this.sendChatList里面的值和参数传过来的值是否相等\r\n          //找出发消息的人\r\n          const filltt = this.sendChatList.map(item=>{\r\n            return item.user_name\r\n          })\r\n          const fffgrger = filltt.indexOf(data[0].sender.user_name)\r\n          console.log(\"data的值\",data)\r\n          console.log(\"filltt的值\",filltt)\r\n          console.log(\"fffgrger的值\",fffgrger)\r\n          //this.userChat有值的情况，判断this.userChat中的用户有没有和传过来的用户相同\r\n          if(this.userList.length>0)\r\n          {\r\n            const swrty = this.userList.map(rest=>{\r\n              return rest.user_name\r\n            })\r\n            const treik = swrty.indexOf(data[0].sender.user_name)\r\n            //如果找到了相同的用户，就不添加到this.sendChat中\r\n            if(treik!=-1){\r\n              //有相同的用户就只添加messages的一条记录\r\n              this.$store.commit(\"receiverChatStore\",\r\n              {\r\n                news:data[0].messages[data[0].messages.length-1],\r\n                user_name:data[0].sender.user_name,\r\n                morenzhi:'mrz'\r\n              })\r\n              console.log(\"this.userChat有值，传过来的用户和this.userChat用户相同\")\r\n              // break\r\n            }\r\n            else{\r\n              this.$store.commit(\"receiverChatStore\",\r\n              {\r\n                news:data[0].messages[data[0].messages.length-1],\r\n                user_name:data[0].sender.user_name,\r\n                morenzhi:'mrz'\r\n              })\r\n              console.log(\"this.userChat有值，传过来的用户没有this.userChat用户相同\")\r\n            }\r\n          }else{\r\n            //找到了相同的用户\r\n            if(fffgrger!=-1)\r\n            {\r\n              //如果同个用户分别给两个不同的用户发消息，data是一个数组，这时你要找出是给哪个用户发消息\r\n              if(data.length>1)\r\n              {\r\n                const lakd = data.map(letItem=>{\r\n                  return letItem.user_name\r\n                })\r\n                const lalall = lakd.indexOf(this.$store.state.userList.user_name)\r\n                console.log(\"lakd的值\",lakd)\r\n                console.log(\"lalall的值\",lalall)\r\n                //找到\r\n                if(this.sendChatList[lalall].user_name==data[0].sender.user_name&&\r\n                lalall!=-1)\r\n                {\r\n                  //记录可能是一条，也可能是多条，如果是多条，每一次添加就获取最后的一条\r\n                  if(data[fffgrger].messages.length>1)\r\n                  {\r\n                    this.$store.commit(\"receiverChatStore\",\r\n                    {\r\n                      news:data[fffgrger].messages[data[fffgrger].messages.length-1],\r\n                      user_name:data[fffgrger].sender.user_name,\r\n                      morenzhi:fffgrger\r\n                    })\r\n                  }\r\n                  // else{\r\n                  //   this.$store.commit(\"receiverChatStore\",\r\n                  //   {\r\n                  //     news:data[fffgrger].messages[0],\r\n                  //     morenzhi:fffgrger\r\n                  //   })\r\n                  // }\r\n                  \r\n                  console.log(\"在同个用户添加messages\",data[lalall].messages.length)\r\n                  // break\r\n                }\r\n              }else{\r\n                this.$store.commit(\"receiverChatStore\",\r\n                {\r\n                  news:data[0].messages[data[0].messages.length-1],\r\n                  user_name:data[0].sender.user_name,\r\n                  morenzhi:\"mrz\"\r\n                })\r\n                console.log(\"data长度等于1\")\r\n              }\r\n              console.log(\"直接添加\")\r\n            }else{\r\n              //重新在this.receiverChat添加一条新的，而且要也在this.sendChat添加一挑衅的\r\n              //再判断this.userChat是否有值\r\n              this.$store.commit(\"receiverChatStore\",\r\n              {\r\n                news:data[0].messages[0],\r\n                user_name:data[0].sender.user_name,\r\n                morenzhi:\"cxtj\"\r\n              })\r\n              this.$store.commit(\"sendChatStore\",data[0].sender)\r\n              console.log(\"在this.receiverChat添加一条新的记录\")\r\n              // break\r\n            }\r\n          }\r\n          \r\n        }\r\n        //没有值的情况，当传过来的参数有当前用户的用户，就添加到vuex\r\n        else{\r\n           const fig = data.map(item=>{\r\n              return item.user_name\r\n            })\r\n            const xb = fig.indexOf(this.$store.state.userList.user_name)\r\n          //判断this.userList是否有发消息过来的人，\r\n          if(this.userList.length>0){\r\n            const vvvv = this.userList.map(rritemss=>{\r\n              return rritemss.user_name//张三\r\n            })\r\n            const ffffff = vvvv.indexOf(data[0].sender.user_name)//张利123123\r\n            if(ffffff!=-1)\r\n            {\r\n              //如果data中的messages的长度大于1，就添加最后的一条\r\n              if(data[0].messages.length>1){\r\n                this.$store.commit(\"receiverChatStore\",\r\n                {\r\n                  news:data[xb].messages[data[0].messages.length-1],\r\n                  user_name:data[xb].sender.user_name,\r\n                  morenzhi:data[0].messages.length-1\r\n                })\r\n                console.log(\"this.userList有相同的用户，并且data中的messages长度大于1，就不添加到sendChat，只添加到messages一条记录\")\r\n                // break\r\n              }else{\r\n                this.$store.commit(\"receiverChatStore\",\r\n                {\r\n                  news:data[0].messages[0],\r\n                  user_name:data[0].sender.user_name,\r\n                  morenzhi:'mrz'\r\n                })\r\n                console.log(\"this.userList有相同的用户，并且data中的messages长度等于1，就不添加到sendChat，只添加到messages一条记录\")\r\n                // break\r\n              }\r\n            }else{\r\n              this.$store.commit(\"sendChatStore\",data[0].sender)\r\n              this.$store.commit(\"receiverChatStore\",\r\n              {\r\n                news:data[0].messages[0],\r\n                user_name:data[0].sender.user_name,\r\n                morenzhi:'mrz'\r\n              })\r\n              console.log(\"this.userList有值，但没有相同的用户，直接添加\")\r\n              // break\r\n            }\r\n          }else{\r\n            // if(xb!=-1){\r\n              this.$store.commit(\"sendChatStore\",data[xb].sender)\r\n              this.$store.commit(\"receiverChatStore\",\r\n              {\r\n                news:data[0].messages[0],\r\n                user_name:data[0].sender.user_name,\r\n                morenzhi:'mrz'\r\n              })\r\n              console.log(\"第一次添加记录\")\r\n              // break\r\n            // }\r\n          }\r\n          // 如果有，就不用再添加到用户列表\r\n        \r\n        }\r\n      // }\r\n    })\r\n    \r\n  },\r\n  mounted() {\r\n    \r\n    this.sockets.subscribe(\"ces\",data=>{\r\n      // console.log(data)\r\n    })\r\n    //接收聊天记录\r\n    this.sockets.subscribe(\"chatMsgOn\",data=>{\r\n      console.log(data)\r\n      //判断是不是当前用户发的\r\n      const ewrt = data.map(rrew=>{\r\n        return rrew.sender.user_name\r\n      })\r\n      const numttt = ewrt.indexOf(this.$store.state.userList.user_name)\r\n      if(numttt!=-1)\r\n      {\r\n        this.$store.commit(\"recordChatStore\",data[numttt])\r\n      }else{\r\n        this.$store.commit(\"recordChatStore\",data[0])\r\n      }\r\n      // console.log(numttt)\r\n    })\r\n  },\r\n  methods: {\r\n    //列表点击\r\n    listClick(e,i,g,p){\r\n      this.acindex = e\r\n      this.usertitle = i\r\n      this.userId = g\r\n      this.photoredn = p\r\n      this.sendacindex = ''\r\n      this.sendusertitle = ''\r\n      this.sendphotoredn = ''\r\n    },\r\n    sendClick(e,i,g,p){\r\n      this.sendacindex = e\r\n      this.sendusertitle = i\r\n      this.senduserId = g\r\n      this.sendphotoredn = p\r\n      this.acindex = ''\r\n      this.usertitle = \"\"\r\n      this.photoredn = \"\"\r\n    },\r\n    // 发送按钮\r\n    fasongCilcik(){\r\n      // 当是同个用户\r\n      // if(){\r\n        //输入框不为空\r\n        if(this.msg){\r\n          this.sessionList.messages.map(res=>{\r\n            {\r\n              res.data = this.msg\r\n              res.time = new Date().toLocaleTimeString()\r\n            }           \r\n          })\r\n           this.sessionList.id = (this.userId||this.senduserId)\r\n          this.sessionList.user_name = (this.usertitle||this.sendusertitle)\r\n          this.sessionList.sender = this.$store.state.userList\r\n          //发送聊天记录\r\n          this.$socket.emit(\"chatMsgEmit\",this.sessionList)\r\n          // this.sockets.subscribe(\"receiveChat\",data=>{\r\n          //   console.log(\"接收人\",data)\r\n          // })\r\n          \r\n          this.msg=''\r\n        //   this.sessionList = this.userId\r\n        }else{\r\n          alert(\"输入不能为空\")\r\n        }\r\n        \r\n      // }\r\n      \r\n      // console.log(this.sessionList)\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.sidebar {\r\n  width: 900px;\r\n  /* border: 1px solid; */\r\n  margin: auto;\r\n  display: flex;\r\n}\r\n.hhhss {\r\n  height: 100vh;\r\n  background: #2e3238;\r\n  width: 20%;\r\n  border-radius: 4px 0 0 4px;\r\n  overflow: hidden;\r\n  min-height: 520px;\r\n  /* overflow-y: scroll; */\r\n}\r\n/* 用户名 */\r\n.yonghum{\r\n      font-size: 16px;\r\n    text-align: center;\r\n    margin-top: 20px;\r\n    margin-bottom: 30px;\r\n    /* position: fixed; */\r\n    background: #eeeeee;\r\n    /* width: 720px; */\r\n    height: 44px;\r\n    line-height: 44px;\r\n    /* top: 40px; */\r\n    z-index: 1000;\r\n}\r\n.myname {\r\n  display: flex;\r\n  height: 100px;\r\n  /* border: 1px solid; */\r\n  width: 100%;\r\n  /* background: aliceblue; */\r\n\r\n  border-bottom: 1px solid #24272c;\r\n  /* background-color: #2e3238; */\r\n  color: white;\r\n  align-items: center;\r\n}\r\n.mylistactive{\r\n  background-color: hsla(0,0%,100%,.1);\r\n}\r\n.myimg {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 4px;\r\n  margin-left: 20px;\r\n}\r\n.mymz {\r\n  font-size: 14px;\r\n  margin-left: 12px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n}\r\n.youname {\r\n  display: flex;\r\n  color: white;\r\n  padding: 9pt 0;\r\n  border-bottom: 1px solid #292c33;\r\n  cursor: pointer;\r\n  -webkit-transition: background-color 0.1s;\r\n  transition: background-color 0.1s;\r\n}\r\n.youname:active {\r\n  background-color: hsla(0, 0%, 100%, 0.1);\r\n}\r\n\r\n/* 左边\r\n */\r\n.main {\r\n  width: 80%;\r\n  height: 100vh;\r\n  min-height: 500px;\r\n  background-color: #eee;\r\n}\r\n.m-top {\r\n  height: 70vh;\r\n  overflow-y: scroll;\r\n  min-height: 70%;\r\n}\r\n/* 聊天记录样式 */\r\n.yinc{\r\n  display: none;\r\n}\r\n.chattime{\r\n  font-size: 12px;\r\n    color: #878686;\r\n    text-align: center;\r\n}\r\n.ltneirong{\r\n  display: flex;\r\n    width: 90%;\r\n    margin-left: 20px;\r\n    margin-top: 15px\r\n}\r\n.lttouxiang{\r\n  height: 30px;\r\n    width: 30px;\r\n    border-radius: 4px;\r\n}\r\n.rightys{\r\n  justify-content: flex-end;\r\n    margin-left: 55px;\r\n}\r\n.ltnrys{\r\n      display: inline-block;\r\n    position: relative;\r\n    padding: 0 10px;\r\n    max-width: calc(100% - 40px);\r\n    min-height: 30px;\r\n    line-height: 2.5;\r\n    font-size: 10pt;\r\n    text-align: left;\r\n    word-break: break-all;\r\n    background-color: #fafafa;\r\n    border-radius: 4px;\r\n    margin-left: 15px;\r\n    margin-bottom: 15px;\r\n}\r\n.zjltjl{\r\n  background-color: #b2e281;\r\n  margin-right: 15px;\r\n}\r\n.zjltjl::before{\r\n    right: inherit !important;\r\n    left: 100% !important;\r\n    border-right-color: transparent !important;\r\n    border-left-color: #b2e281 !important;\r\n}\r\n.ltnrys::before{\r\n  content: \" \";\r\n    position: absolute;\r\n    top: 9px;\r\n    right: 100%;\r\n    border: 6px solid transparent;\r\n    border-right-color: #fafafa;\r\n}\r\n\r\n.m-bto {\r\n  height: 30vh;\r\n  min-height: 30%;\r\n  background-color: white;\r\n  border-bottom: 1px solid #eee;\r\n  border-right: 1px solid #eee;\r\n  display: none;\r\n  margin-top: 20px;\r\n}\r\n.showtexttarea{\r\n  display: block;\r\n}\r\n.shuru {\r\n  caret-color: black;\r\n  /* text-indent: 30px; */\r\n  height: 100%;\r\n  width: 95%;\r\n  border: none;\r\n  outline: 0;\r\n  font-family: Micrsofot Yahei;\r\n  resize: none;\r\n  margin-left: 10px;\r\n}\r\n.fs{\r\n  width: 75px;\r\n  height: 35px;\r\n  border: 1px solid;\r\n  font-size: 14px;\r\n  line-height: 33px;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  background: #908c8c;\r\n  color: white;\r\n  position: relative;\r\n  left: 626px;\r\n  top: -54px;\r\n  cursor: pointer;\r\n  display: none;\r\n}\r\n.fsshow:hover{\r\n  background-color: rgb(18, 128, 18);\r\n}\r\n.fsshow{\r\n  display: block;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMassege.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMassege.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyMassege.vue?vue&type=template&id=2026d096&scoped=true&\"\nimport script from \"./MyMassege.vue?vue&type=script&lang=js&\"\nexport * from \"./MyMassege.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyMassege.vue?vue&type=style&index=0&id=2026d096&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2026d096\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/mytp.9af7e28e.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMassege.vue?vue&type=style&index=0&id=2026d096&scoped=true&lang=css&\""],"sourceRoot":""}